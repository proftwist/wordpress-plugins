(()=>{"use strict";var e,a={112:()=>{const e=window.wp.blocks,a=window.wp.i18n,n=window.React,t=window.wp.element,l=window.wp.blockEditor,o=window.wp.components,r=window.easyChangelogI18n||{},s=window.easyChangelogI18n||{};(0,e.registerBlockType)("easy-changelog/changelog",{title:s.title||(0,a.__)("Easy Changelog","easy-changelog"),description:s.description||(0,a.__)("Блок для отображения changelog с редактором JSON и предпросмотром","easy-changelog"),category:"easy-changelog",icon:"list-view",supports:{html:!1},attributes:{changelogData:{type:"string",default:'[\n  {\n    "version": "1.0.0",\n    "date": "19.11.2025",\n    "added": ["Первоначальный релиз плагина", "Базовая функциональность блоков"]\n  },\n  {\n    "version": "0.9.0",\n    "date": "15.11.2025",\n    "added": ["Бета-версия плагина", "Тестирование функциональности"]\n  }\n]'}},edit:({attributes:e,setAttributes:s})=>{const{changelogData:c}=e,[g,i]=(0,t.useState)([]),[d,h]=(0,t.useState)("");(0,t.useEffect)(()=>{try{const e=JSON.parse(c);Array.isArray(e)?(i(e),h("")):h(r.mustBeArray||(0,a.__)("Данные должны быть массивом","easy-changelog"))}catch(e){h(r.invalidJson||(0,a.__)("Некорректный JSON формат","easy-changelog"))}},[c]);const y=[{name:"editor",title:r.jsonEditor||(0,a.__)("Редактор JSON","easy-changelog")},{name:"preview",title:r.preview||(0,a.__)("Предпросмотр","easy-changelog")}];return(0,n.createElement)("div",{...(0,l.useBlockProps)()},(0,n.createElement)(o.TabPanel,{className:"easy-changelog-tabs",tabs:y},e=>(0,n.createElement)("div",{className:"easy-changelog-tab-content"},"editor"===e.name&&(0,n.createElement)("div",null,(0,n.createElement)(o.TextareaControl,{label:r.changelogData||(0,a.__)("Данные Changelog (JSON)","easy-changelog"),value:c,onChange:e=>s({changelogData:e}),rows:15,help:r.jsonHelp||(0,a.__)("Введите данные в формате JSON. Каждый релиз должен содержать version, date и added.","easy-changelog")}),d&&(0,n.createElement)("div",{style:{color:"#cc1818",marginTop:"10px"}},r.error||(0,a.__)("Ошибка:","easy-changelog")," ",d)),"preview"===e.name&&(0,n.createElement)("div",{className:"easy-changelog-preview"},d?(0,n.createElement)("div",{style:{color:"#cc1818"}},r.cannotPreview||(0,a.__)("Невозможно отобразить предпросмотр из-за ошибок в JSON","easy-changelog")):(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h2",{className:"easy-changelog-title"},r.changelogTitle||(0,a.__)("История изменений","easy-changelog")),g.map((e,a)=>(0,n.createElement)("div",{key:a,className:"easy-changelog-release"},(0,n.createElement)("div",{className:"easy-changelog-version"},(0,n.createElement)("strong",null,e.version)),(0,n.createElement)("div",{className:"easy-changelog-date"},e.date),(0,n.createElement)("div",{className:"easy-changelog-added"},Array.isArray(e.added)&&(0,n.createElement)("ul",null,e.added.map((e,a)=>(0,n.createElement)("li",{key:a},e)))))))))))},save:()=>null})}},n={};function t(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return a[e](o,o.exports,t),o.exports}t.m=a,e=[],t.O=(a,n,l,o)=>{if(!n){var r=1/0;for(i=0;i<e.length;i++){for(var[n,l,o]=e[i],s=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(t.O).every(e=>t.O[e](n[c]))?n.splice(c--,1):(s=!1,o<r&&(r=o));if(s){e.splice(i--,1);var g=l();void 0!==g&&(a=g)}}return a}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,l,o]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};t.O.j=a=>0===e[a];var a=(a,n)=>{var l,o,[r,s,c]=n,g=0;if(r.some(a=>0!==e[a])){for(l in s)t.o(s,l)&&(t.m[l]=s[l]);if(c)var i=c(t)}for(a&&a(n);g<r.length;g++)o=r[g],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(i)},n=globalThis.webpackChunkeasy_changelog=globalThis.webpackChunkeasy_changelog||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})();var l=t.O(void 0,[350],()=>t(112));l=t.O(l)})();