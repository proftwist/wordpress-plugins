(()=>{"use strict";var e,a={140:()=>{const e=window.React,{registerBlockType:a}=window.wp.blocks,{__}=window.wp.i18n,{useBlockProps:n}=window.wp.blockEditor,{useState:t,useEffect:l}=window.wp.element,{TabPanel:o,TextareaControl:r}=window.wp.components,{Fragment:s}=window.wp.element;a("easy-changelog/changelog",{title:__("Easy Changelog","easy-changelog"),description:__("Блок для отображения changelog с редактором JSON и предпросмотром","easy-changelog"),category:"easy-changelog",icon:"list-view",supports:{html:!1},attributes:{changelogData:{type:"string",default:'[\n  {\n    "version": "1.0.0",\n    "date": "19.11.2025",\n    "added": ["Первоначальный релиз плагина", "Базовая функциональность блоков"]\n  },\n  {\n    "version": "0.9.0",\n    "date": "15.11.2025",\n    "added": ["Бета-версия плагина", "Тестирование функциональности"]\n  }\n]'}},edit:({attributes:a,setAttributes:c})=>{const{changelogData:g}=a,[i,d]=t([]),[h,m]=t("");l(()=>{try{const e=JSON.parse(g);Array.isArray(e)?(d(e),m("")):m(__("Данные должны быть массивом","easy-changelog"))}catch(e){m(__("Некорректный JSON формат","easy-changelog"))}},[g]);const y=[{name:"editor",title:__("Редактор JSON","easy-changelog")},{name:"preview",title:__("Предпросмотр","easy-changelog")}];return(0,e.createElement)("div",{...n()},(0,e.createElement)(o,{className:"easy-changelog-tabs",tabs:y},a=>(0,e.createElement)("div",{className:"easy-changelog-tab-content"},"editor"===a.name&&(0,e.createElement)("div",null,(0,e.createElement)(r,{label:__("Данные Changelog (JSON)","easy-changelog"),value:g,onChange:e=>c({changelogData:e}),rows:15,help:__("Введите данные в формате JSON. Каждый релиз должен содержать version, date и added.","easy-changelog")}),h&&(0,e.createElement)("div",{style:{color:"#cc1818",marginTop:"10px"}},__("Ошибка:","easy-changelog")," ",h)),"preview"===a.name&&(0,e.createElement)("div",{className:"easy-changelog-preview"},h?(0,e.createElement)("div",{style:{color:"#cc1818"}},__("Невозможно отобразить предпросмотр из-за ошибок в JSON","easy-changelog")):(0,e.createElement)(s,null,(0,e.createElement)("h2",{className:"easy-changelog-title"},__("История изменений","easy-changelog")),i.map((a,n)=>(0,e.createElement)("div",{key:n,className:"easy-changelog-release"},(0,e.createElement)("div",{className:"easy-changelog-version"},(0,e.createElement)("strong",null,a.version)),(0,e.createElement)("div",{className:"easy-changelog-date"},a.date),(0,e.createElement)("div",{className:"easy-changelog-added"},Array.isArray(a.added)&&(0,e.createElement)("ul",null,a.added.map((a,n)=>(0,e.createElement)("li",{key:n},a)))))))))))},save:()=>null})}},n={};function t(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return a[e](o,o.exports,t),o.exports}t.m=a,e=[],t.O=(a,n,l,o)=>{if(!n){var r=1/0;for(i=0;i<e.length;i++){for(var[n,l,o]=e[i],s=!0,c=0;c<n.length;c++)(!1&o||r>=o)&&Object.keys(t.O).every(e=>t.O[e](n[c]))?n.splice(c--,1):(s=!1,o<r&&(r=o));if(s){e.splice(i--,1);var g=l();void 0!==g&&(a=g)}}return a}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,l,o]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};t.O.j=a=>0===e[a];var a=(a,n)=>{var l,o,[r,s,c]=n,g=0;if(r.some(a=>0!==e[a])){for(l in s)t.o(s,l)&&(t.m[l]=s[l]);if(c)var i=c(t)}for(a&&a(n);g<r.length;g++)o=r[g],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(i)},n=globalThis.webpackChunkeasy_changelog=globalThis.webpackChunkeasy_changelog||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))})();var l=t.O(void 0,[350],()=>t(140));l=t.O(l)})();