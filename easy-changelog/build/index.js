(()=>{"use strict";var e,a={371:()=>{const e=window.wp.blocks,a=window.wp.i18n,s=window.wp.element,n=window.wp.components,t=window.wp.blockEditor,l=window.ReactJSXRuntime;(0,e.registerBlockType)("easy-changelog/changelog",{title:(0,a.__)("Easy Changelog","easy-changelog"),description:(0,a.__)("Display a beautiful changelog with JSON data","easy-changelog"),category:"widgets",icon:"list-view",supports:{html:!1},attributes:{changelogData:{type:"string",default:'[\n    {\n        "version": "1.0.0",\n        "date": "2024-01-15",\n        "added": [\n            "Initial release of the plugin",\n            "Basic changelog functionality",\n            "Gutenberg block integration"\n        ]\n    },\n    {\n        "version": "1.1.0",\n        "date": "2024-01-20",\n        "added": [\n            "Added preview tab",\n            "Improved styling",\n            "JSON validation"\n        ]\n    }\n]'}},edit:({attributes:e,setAttributes:i})=>{const{changelogData:o}=e,[r,c]=(0,s.useState)(""),[g,d]=(0,s.useState)([]),h=(0,t.useBlockProps)();(0,s.useEffect)(()=>{try{if(o.trim()){const e=JSON.parse(o);Array.isArray(e)?(d(e),c("")):c((0,a.__)("JSON must be an array","easy-changelog"))}else d([]),c("")}catch(e){c((0,a.__)("Invalid JSON format","easy-changelog")),d([])}},[o]);const y=[{name:"json",title:(0,a.__)("JSON Editor","easy-changelog"),className:"easy-changelog-json-tab"},{name:"preview",title:(0,a.__)("Preview","easy-changelog"),className:"easy-changelog-preview-tab"}],v=e=>{if(!e||"No date"===e)return e;const a=new Date(e);return isNaN(a.getTime())?e:`${a.getDate().toString().padStart(2,"0")}.${(a.getMonth()+1).toString().padStart(2,"0")}.${a.getFullYear()}`};return(0,l.jsxs)("div",{...h,children:[(0,l.jsx)(t.InspectorControls,{children:(0,l.jsx)(n.PanelBody,{title:(0,a.__)("Changelog Settings","easy-changelog"),initialOpen:!0,children:(0,l.jsx)("p",{children:(0,a.__)("Use the JSON Editor tab to input your changelog data in JSON format.","easy-changelog")})})}),(0,l.jsx)("div",{className:"easy-changelog-editor",children:(0,l.jsx)(n.TabPanel,{className:"easy-changelog-tabs",activeClass:"is-active",onSelect:()=>{},tabs:y,children:e=>(0,l.jsxs)("div",{className:"easy-changelog-tab-content",children:["json"===e.name&&(0,l.jsxs)("div",{className:"easy-changelog-json-editor",children:[r&&(0,l.jsx)(n.Notice,{status:"error",isDismissible:!1,children:r}),(0,l.jsx)(n.TextareaControl,{label:(0,a.__)("Changelog JSON","easy-changelog"),help:(0,a.__)("Enter valid JSON array with version, date, and added fields","easy-changelog"),value:o,onChange:e=>i({changelogData:e}),rows:20,className:"easy-changelog-textarea"})]}),"preview"===e.name&&(0,l.jsx)("div",{className:"easy-changelog-preview",children:r?(0,l.jsx)(n.Notice,{status:"warning",isDismissible:!1,children:(0,a.__)("Fix JSON errors to see preview","easy-changelog")}):0===g.length?(0,l.jsx)(n.Notice,{status:"info",isDismissible:!1,children:(0,a.__)("No changelog data to display","easy-changelog")}):(0,l.jsxs)("div",{className:"easy-changelog-block",children:[(0,l.jsx)("h3",{className:"easy-changelog-title",children:(0,a.__)("Changelog","easy-changelog")}),(0,l.jsx)("div",{className:"easy-changelog-list",children:g.map((e,s)=>(0,l.jsxs)("div",{className:"easy-changelog-release",children:[(0,l.jsxs)("div",{className:"easy-changelog-header",children:[(0,l.jsx)("strong",{className:"easy-changelog-version",children:e.version||"No version"}),(0,l.jsx)("span",{className:"easy-changelog-date",children:v(e.date||"No date")})]}),e.added&&e.added.length>0&&(0,l.jsxs)("div",{className:"easy-changelog-section",children:[(0,l.jsx)("h4",{className:"easy-changelog-section-title",children:(0,a.__)("Added","easy-changelog")}),(0,l.jsx)("ul",{className:"easy-changelog-items",children:e.added.map((e,a)=>(0,l.jsx)("li",{className:"easy-changelog-item",children:e},a))})]})]},s))})]})})]})})})]})},save:()=>null})}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var l=s[e]={exports:{}};return a[e](l,l.exports,n),l.exports}n.m=a,e=[],n.O=(a,s,t,l)=>{if(!s){var i=1/0;for(g=0;g<e.length;g++){for(var[s,t,l]=e[g],o=!0,r=0;r<s.length;r++)(!1&l||i>=l)&&Object.keys(n.O).every(e=>n.O[e](s[r]))?s.splice(r--,1):(o=!1,l<i&&(i=l));if(o){e.splice(g--,1);var c=t();void 0!==c&&(a=c)}}return a}l=l||0;for(var g=e.length;g>0&&e[g-1][2]>l;g--)e[g]=e[g-1];e[g]=[s,t,l]},n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={57:0,350:0};n.O.j=a=>0===e[a];var a=(a,s)=>{var t,l,[i,o,r]=s,c=0;if(i.some(a=>0!==e[a])){for(t in o)n.o(o,t)&&(n.m[t]=o[t]);if(r)var g=r(n)}for(a&&a(s);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(g)},s=globalThis.webpackChunkeasy_changelog=globalThis.webpackChunkeasy_changelog||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))})();var t=n.O(void 0,[350],()=>n(371));t=n.O(t)})();