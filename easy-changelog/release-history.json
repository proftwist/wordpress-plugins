[
  {
    "version": "2.0.3",
    "date": "25.11.2025",
    "added": [
      "Исправлены все проблемы безопасности WordPress Plugin Check",
      "Добавлено безопасное экранирование вывода через esc_html__() вместо __()",
      "Добавлено кеширование запросов БД для улучшения производительности",
      "Оптимизированы прямые запросы к базе данных с wp_cache_get/set",
      "Добавлена обработка удаления кеша при обновлении данных блока",
      "Улучшена производительность функции update_affected_blocks()",
      "Кеширование результатов поиска блоков на 5 минут"
    ],
    "fixed": [
      "ИСПРАВЛЕНО: Строка 643 - WordPress.Security.EscapeOutput.OutputNotEscaped - заменен __() на esc_html__()",
      "ИСПРАВЛЕНО: Строка 109 - PluginCheck.CodeAnalysis.DiscouragedFunctions.load_plugin_textdomain - убрана deprecated функция",
      "ИСПРАВЛЕНО: Строка 423 - WordPress.DB.PreparedSQL.InterpolatedNotPrepared - добавлен $wpdb->prepare() с placeholders",
      "ИСПРАВЛЕНО: Строка 596 - WordPress.DB.PreparedSQL.InterpolatedNotPrepared - исправлена SQL injection уязвимость",
      "ИСПРАВЛЕНО: Строка 603 - WordPress.DB.PreparedSQL.InterpolatedNotPrepared - безопасные SQL запросы",
      "ИСПРАВЛЕНО: Все прямые SQL запросы переведены на подготовленные statements",
      "Убрана ручная загрузка текстового домена (WordPress делает это автоматически с версии 4.6)",
      "Добавлено использование фигурных скобок {$table_name} для корректной интерполяции в SQL",
      "Устранены все предупреждения о безопасности WordPress Plugin Checker"
    ]
  },
  {
    "version": "2.0.1",
    "date": "20.11.2025",
    "added": [
      "Исправлена критическая проблема с созданием таблиц БД для отслеживания блоков",
      "Перенесены функции активации/деактивации ВНЕ класса для корректной работы register_activation_hook",
      "Добавлена система проверки версии БД через check_db_version()",
      "Улучшенная логика создания таблиц с логированием процесса",
      "Добавлены отладочные логи для отслеживания блоков при сохранении постов",
      "Система автоматического создания таблиц при обновлении плагина",
      "Новая функциональность отслеживания удаления данных из JSON",
      "Добавлена обработка пустого состояния блока с стильным уведомлением",
      "Улучшенное логирование процесса обновления блоков для диагностики",
      "Стили для пустого состояния: .easy-changelog-empty",
      "Метод update_block_content теперь ВСЕГДА обновляет пост, даже при пустых данных"
    ],
    "fixed": [
      "Исправлена проблема с register_activation_hook - теперь вызывается ВНЕ класса",
      "Решена проблема с не создающейся таблицей easy_changelog_blocks",
      "Добавлена проверка существования таблицы перед созданием",
      "Устранена проблема с версионированием БД через get_option('easy_changelog_db_version')",
      "Исправлена регистрация хуков активации/деактивации плагина",
      "КРИТИЧНО: Исправлена проблема обновления поста при УДАЛЕНИИ данных из JSON",
      "Теперь при полном удалении данных из JSON показывается корректное сообщение 'История изменений пока пуста'",
      "Добавлена проверка !empty() для массивов added/fixed в render_block для избежания пустых UL элементов"
    ]
  },
  {
    "version": "2.0.0",
    "date": "20.11.2025",
    "added": [
      "Полная автоматизация с GitHub webhooks для мгновенного обновления данных",
      "Система отслеживания блоков с внешними URL через базу данных",
      "Webhook endpoint /easy-changelog/v1/github-webhook для получения push events",
      "Автоматическое обновление данных блоков при изменениях в GitHub репозитории",
      "Интерфейс для копирования webhook URL в редакторе блоков",
      "Визуальные индикаторы статуса автосинхронизации в блоке",
      "Умное обновление только затронутых файлов при push events",
      "Фоновая обработка обновлений без влияния на производительность",
      "Ежедневная очистка устаревших записей в базе данных",
      "Улучшенная логика кеширования (5 минут для внешних данных)",
      "Поддержка атрибута blockId для уникальной идентификации блоков",
      "Обработка вложенных блоков для полного покрытия",
      "Оптимизированная функция refreshGitHubUrl для избежания кеширования",
      "Регистрация обработчика save_post для автоматического отслеживания",
      "Расширенная локализация для новой webhook функциональности"
    ],
    "fixed": [
      "Решена проблема кеширования GitHub raw ссылок (5-10 минут задержки)",
      "Устранены проблемы с автоматической синхронизацией данных",
      "Исправлена обработка ошибок в webhook endpoints",
      "Устранены конфликты между различными версиями React",
      "Исправлена валидация webhook payload от GitHub"
    ]
  },
  {
    "version": "1.3.0",
    "date": "20.11.2025",
    "added": [
      "Поддержка внешних JSON файлов из GitHub и других источников",
      "Трехвкладочный интерфейс редактора: JSON, Внешний JSON, Предпросмотр",
      "REST API endpoint для безопасной загрузки внешних данных",
      "Кеширование внешних запросов на 1 час для повышения производительности",
      "Автоматическое преобразование GitHub URL в raw URL",
      "Подробные инструкции по получению ссылок на GitHub",
      "Graceful fallback на локальные данные при ошибках загрузки",
      "Валидация URL и JSON данных для безопасности",
      "Расширенная локализация с поддержкой новых текстов",
      "Улучшенная обработка ошибок с информативными сообщениями",
      "Поддержка атрибутов jsonUrl и useExternalUrl в блоке",
      "Визуальные индикаторы статуса загрузки (успех/ошибка/загрузка)"
    ],
    "fixed": [
      "Исправлена проблема с undefined переменной i18n.useExternalUrl",
      "Устранены предупреждения о WP_REST_Response в IDE"
    ]
  },
  {
    "version": "1.2.1",
    "date": "20.11.2025",
    "added": [
      "Исправление отображения fixed элементов в предпросмотре Гутенберга",
      "Улучшена функция renderList для корректной обработки пустых списков",
      "Обновлен текст подсказки в редакторе с упоминанием поддержки fixed",
      "Упрощена логика рендеринга предпросмотра",
      "Предотвращено создание пустых HTML элементов"
    ],
    "fixed": [
      "Исправлено отображение fixed элементов в редакторе блоков",
      "Устранена проблема с пустыми списками в предпросмотре",
      "Исправлена подсказка в редакторе JSON"
    ]
  },
  {
    "version": "1.2.0",
    "date": "20.11.2025",
    "added": [
      "Исправление стилей для редактора Гутенберга с улучшенной совместимостью",
      "Добавлена поддержка тега fixed для отображения исправлений",
      "Улучшена визуализация предпросмотра в редакторе блоков",
      "Разделены стили для added (зеленые маркеры) и fixed (синие маркеры)",
      "Добавлены специальные стили для темной темы редактора",
      "Улучшена адаптивность для мобильных устройств",
      "Добавлены анимации и переходы для улучшения UX",
      "Поддержка высокой контрастности и уменьшения движения",
      "Улучшена семантика CSS классов",
      "Обновлен default JSON с примерами использования fixed",
      "Оптимизированы стили для работы в контексте редактора"
    ]
  },
  {
    "version": "1.1.0",
    "date": "19.11.2025",
    "added": [
      "Gutenberg блок для отображения истории изменений (changelog) с встроенным редактором JSON",
      "Предпросмотр в реальном времени при редактировании JSON данных",
      "Валидация JSON формата с отображением ошибок",
      "Поддержка массива релизов с версиями, датами и списками изменений",
      "Категоризация блоков в редакторе Gutenberg",
      "Локализация интерфейса на русский и английский языки",
      "Подключение стилей только при наличии блока на странице",
      "Версионирование ресурсов через filemtime",
      "Безопасная обработка JSON данных с экранированием",
      "Адаптивный дизайн для мобильных устройств",
      "Интеграция с WordPress Block API",
      "Поддержка многоязычности через wp_set_script_translations"
    ]
  }
]