# Text with Side Image - Пояснительная записка

## Описание плагина

Плагин **Text with Side Image** представляет собой Gutenberg-блок для WordPress, который позволяет создавать текстовые блоки с опциональным изображением, расположенным сбоку. Этот блок идеально подходит для создания информативных и визуально привлекательных страниц с улучшенным пользовательским опытом.

## Ключевые особенности

### 1. Гибкость контента
- **Опциональное изображение**: Блок работает как с изображением, так и без него
- **Настраиваемое позиционирование**: Изображение может располагаться слева или справа от текста
- **Регулируемая ширина**: Возможность установки ширины изображения от 80 до 300 пикселей с шагом 10px

### 2. Пользовательский интерфейс
- **Интуитивный редактор**: Понятный интерфейс с визуальными подсказками
- **Панель настроек**: Удобная панель для настройки параметров блока
- **Плейсхолдеры**: Информативные подсказки для пользователя
- **Кнопки действий**: Понятные кнопки "Replace" и "Remove" для управления изображением

### 3. Технические особенности
- **Gutenberg Block API**: Использует современный блок API WordPress
- **React компоненты**: Базируется на компонентах WordPress React
- **SCSS стили**: Модульная структура стилей для редактора и фронтенда
- **Адаптивный дизайн**: Автоматическая адаптация под мобильные устройства

## Структура файлов

```
text-with-side-image/
├── text-with-side-image.php     # Основной файл плагина
├── package.json                 # Конфигурация сборки
├── readme.txt                   # Документация плагина
├── sol.md                       # Техническая инструкция
├── pz.md                        # Пояснительная записка (данный файл)
├── release-history.json         # История версий
├── src/
│   ├── block.json              # Конфигурация блока
│   ├── index.js                # Главный скрипт блока
│   ├── editor.scss             # Стили для редактора
│   └── style.scss              # Фронтенд стили
└── languages/
    ├── tsi.pot                 # Основной файл переводов
    ├── tsi-ru_RU.po            # Русский перевод
    └── tsi-en_US.po            # Английский перевод
```

## Атрибуты блока

### Основные атрибуты:
- `content` (string): HTML содержимое текстового блока
- `imageUrl` (string): URL изображения
- `imageAlt` (string): Альтернативный текст изображения
- `imageId` (number): ID изображения в медиатеке WordPress
- `imagePosition` (string): Позиция изображения ('left' или 'right')
- `imageWidth` (number): Ширина изображения в пикселях

## Локализация

Плагин полностью локализован на два языка:

### Русский язык (ru_RU)
- Все интерфейсные элементы переведены
- Правильная поддержка множественных форм
- Культурно-адаптированные подсказки

### Английский язык (en_US)
- Полная поддержка английской локализации
- Соответствие стандартам WordPress

### Переводы включают:
- Названия и описания блоков
- Подсказки и плейсхолдеры
- Тексты кнопок
- Панели настроек
- Сообщения об ошибках

## Адаптивность

### Десктопы и планшеты:
- Изображение располагается сбоку от текста
- Гибкая ширина изображения
- Оптимальные отступы и интервалы

### Мобильные устройства:
- Автоматическое изменение направления на колоночное
- Изображение размещается сверху
- Адаптивная ширина изображения (максимум 250px)
- Сохранение читаемости текста

## Стилизация

### Редакторские стили:
- Визуальная рамка для выделения блока
- Пунктирные границы для редактируемых областей
- Подсветка при выделении блока
- Анимации и переходы для улучшения UX

### Фронтенд стили:
- Оптимизированная типографика
- Тени и скругления для современного вида
- Оптимальные отступы для читаемости
- Поддержка RTL языков

## Установка и сборка

### Требования:
- WordPress 5.8+
- Node.js 14+
- PHP 7.4+

### Команды для сборки:
```bash
npm install      # Установка зависимостей
npm run build    # Сборка проекта
npm run start    # Режим разработки
npm run i18n     # Обновление переводов
```

## SEO и производительность

- Оптимизированные изображения с правильными alt-атрибутами
- Минимальное влияние на производительность
- Совместимость с кеширующими плагинами
- Семантическая HTML структура

## Безопасность

- Валидация всех пользовательских данных
- Экранирование вывода для предотвращения XSS
- Соответствие стандартам безопасности WordPress
- Проверка прав пользователя

## Совместимость

- WordPress 5.8 - 6.7+
- PHP 7.4 - 8.3
- Современные браузеры
- Поддержка Gutenberg
- Совместимость с популярными темами

## Возможные расширения

### Будущие улучшения:
- Поддержка видео в качестве бокового медиа
- Дополнительные позиции изображения (сверху/снизу)
- Эффекты наведения и анимации
- Интеграция с популярными SEO плагинами
- Поддержка webP и других современных форматов изображений

## Поддержка

Для получения поддержки и сообщения об ошибках обращайтесь на сайт автора: https://bychko.ru

Автор: Владимир Бычко
Лицензия: GPL v2 или позднее

---

## Последние обновления (v1.1.0)

### Ключевые изменения в доработке:

**1. Абсолютное позиционирование изображений**
- Изображения теперь позиционируются **абсолютно** за пределами основного контентного потока
- Для левых изображений: `left: -180px`
- Для правых изображений: `right: -180px`
- Это позволяет создавать эффект "плавающих" изображений как в примере

**2. Центрирование контента**
- Основной контентный блок теперь имеет фиксированную ширину `max-width: 800px`
- Центрирование с помощью `margin: 0 auto`
- Оптимальные отступы для читаемости

**3. Улучшенная визуализация**
- Добавлены тени для изображений (`box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15)`)
- Скругленные углы изображений (`border-radius: 6px`)
- Улучшенная подсветка при редактировании блока
- Более четкие границы и визуальное разделение

**4. Расширенная адаптивность**
- На мобильных устройствах (`max-width: 768px`) изображение становится обычным блочным элементом
- Изображения центрируются и располагаются сверху контента
- Адаптивная максимальная ширина для мобильных (250px)
- Поддержка широких экранов (`min-width: 1400px`) с увеличенными отступами

**5. Улучшенная типографика**
- Настроенные цвета текста (`color: #333`)
- Цвета заголовков (`color: #2c3e50`)
- Стилизация ссылок с эффектами наведения
- Оптимизированные межстрочные интервалы

**6. Обновленная структура стилей**
- Разделение логики редактора и фронтенда
- Правильная структура CSS классов для абсолютного позиционирования
- Улучшенная организация медиа-запросов
- Поддержка RTL языков

### Технические детали доработки:

**Измененные файлы:**
- `src/editor.scss` - полностью переработан для поддержки абсолютного позиционирования
- `src/style.scss` - обновлен с новой логикой позиционирования и адаптивности
- `src/index.js` - структура уже соответствовала требованиям

**Результат:**
- Изображения теперь отображаются точно как в примере
- Абсолютное позиционирование создает эффект "вынесенности" изображений
- Сохранена полная адаптивность и функциональность
- Улучшен визуальный вид блока в редакторе и на фронтенде

Доработка выполнена строго по техническому заданию с сохранением всех существующих функций.