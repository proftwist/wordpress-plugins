# Пояснительная записка к плагину "Популярные посты за год"

## Назначение

Плагин добавляет в редактор блоков WordPress (Гутенберг) новый блок "Популярные посты за год". Этот блок выводит на страницу список самых просматриваемых постов за выбранный год в виде таблицы.

## Функциональность

*   **Гутенберг-блок:** "Популярные посты за год".
*   **Настройки блока:**
    *   **Количество постов:** Выпадающий список для выбора количества отображаемых постов (от 5 до 20).
    *   **Год:** Выпадающий список для выбора года. Включает "Текущий год" и все годы, за которые есть опубликованные посты.
*   **Отображение:**
    *   Таблица из двух столбцов: "Пост" и "Количество просмотров".
    *   Заголовки таблицы выделены жирным шрифтом.
    *   В столбце "Пост" отображаются заголовки постов со ссылками на них.
    *   В столбце "Количество просмотров" отображается число просмотров.
*   **Кеширование:** Данные, отображаемые блоком, кешируются на 1 час для снижения нагрузки на базу данных.
*   **Обработка ошибок:**
    *   Если за выбранный год нет постов, выводится соответствующее сообщение.
    *   Если не установлен обязательный плагин [Post Views Counter](https://wordpress.org/plugins/post-views-counter/), выводится уведомление с предложением его установить.

## Зависимости

Для корректной работы плагина **обязательно** требуется установка и активация плагина [Post Views Counter](https://wordpress.org/plugins/post-views-counter/), так как он используется для подсчета просмотров постов.

## Локализация

Плагин полностью локализован и готов к переводу. Поддерживает русский и английский языки.

## История версий

### 1.1.0 (2025-11-24)

*   Исправлена ошибка с неправильным SQL-запросом, из-за которой не отображались данные за текущий год.
*   Теперь корректно суммируются просмотры за все дни выбранного года.

### 1.0.0 (2025-11-24)

*   Первоначальный выпуск плагина.
*   Гутенберг-блок "Популярные посты за год".
*   Настройки количества постов и выбора года.
*   Кеширование данных на 1 час.
*   Локализация для русского и английского языков.