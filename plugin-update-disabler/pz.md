# Plugin Update Disabler

Плагин для блокировки обновлений выбранных плагинов в WordPress.

## Автор

Владимир Бычко (bychko.ru)

## Функциональность

- Принудительная блокировка обновлений для выбранных плагинов
- Отключение уведомлений об обновлениях для заблокированных плагинов
- AJAX-интерфейс для быстрого переключения статуса без перезагрузки страницы
- Подтверждение при разблокировке с предупреждением о возможных рисках
- Полная поддержка локализации (русский и английский языки)

## Структура файлов

```
/plugin-update-disabler/
├── plugin-update-disabler.php     # Основной файл плагина
├── assets/
│   └── admin.js                   # JavaScript для админ-интерфейса
└── languages/
    ├── plugin-update-disabler.pot # Шаблон переводов
    ├── plugin-update-disabler-ru_RU.po  # Русские переводы
    └── plugin-update-disabler-ru_RU.mo  # Скомпилированные русские переводы
```

## Использование

1. Установите и активируйте плагин
2. Перейдите в раздел "Плагины" в админке WordPress
3. Для каждого плагина появятся ссылки "Блокировать обновления" / "Разблокировать обновления"
4. При клике на ссылку статус изменится без перезагрузки страницы
5. При разблокировке появится предупреждение о возможных рисках

## Безопасность

- Проверка прав пользователя (update_plugins)
- Валидация и санитизация входных данных
- Защита от CSRF через nonce
- Подтверждение разблокировки с предупреждением

## Локализация

Плагин поддерживает переводы. Для добавления нового языка:
1. Скопируйте `plugin-update-disabler.pot` в новый .po файл
2. Переведите строки
3. Скомпилируйте в .mo файл с помощью msgfmt
4. Переименуйте файлы согласно стандарту WordPress (например, для французского: plugin-update-disabler-fr_FR.po/.mo)

## Технические детали

- Использует хук `site_transient_update_plugins` для блокировки обновлений
- Использует хук `wp_get_update_data` для скрытия уведомлений
- AJAX-обработка через `wp_ajax_toggle_plugin_block`
- Сохраняет список заблокированных плагинов в опциях WordPress
- Совместим с WordPress 4.0+

## История версий

### 1.0.1
- Исправлена локализация (добавлена поддержка русского языка)

### 1.0.0
- Первая версия плагина